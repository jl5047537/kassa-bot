# Промт для работы с зависимостями Python-проекта Kassa Bot

1. АНАЛИЗ ТЕКУЩЕЙ СИТУАЦИИ:
   - Проверь текущую версию Python и pip
   - Проанализируй существующие зависимости в requirements.txt
   - Определи требования проекта (MVP, продакшн и т.д.)
   - Выяви конфликты и несовместимости между пакетами

2. ПЛАНИРОВАНИЕ:
   - Составь список необходимых пакетов для:
     * Telegram бота
     * FastAPI приложения
     * Работы с базой данных
     * Интеграции с TON API
   - Определи минимальные версии, удовлетворяющие требованиям
   - Проверь совместимость версий между собой
   - Учти ограничения Python версии

3. ПОСЛЕДОВАТЕЛЬНОСТЬ ДЕЙСТВИЙ:
   - Создай виртуальное окружение
   - Установи базовые зависимости (FastAPI, SQLAlchemy)
   - Добавь специфические пакеты (python-telegram-bot, TON API)
   - После каждой установки проверяй работоспособность
   - Документируй все изменения в requirements.txt

4. ПРОВЕРКА:
   - Убедись, что все зависимости установлены корректно
   - Проверь отсутствие конфликтов между пакетами
   - Убедись, что код работает с установленными версиями
   - Проверь соответствие ТЗ
   - Проверь работу всех интеграций (Telegram, TON)

5. ДОКУМЕНТАЦИЯ:
   - Зафиксируй все версии в requirements.txt
   - Добавь комментарии о причинах выбора версий
   - Обнови VERSIONS.md при необходимости
   - Документируй процесс установки в README.md

6. ОБРАТНАЯ СВЯЗЬ:
   - Сообщай о каждом шаге пользователю
   - Объясняй причины выбора версий
   - Предупреждай о потенциальных проблемах
   - Предлагай альтернативные решения

7. ОШИБКИ:
   - При возникновении ошибок:
     * Анализируй причину (конфликт версий, несовместимость)
     * Ищи альтернативные решения
     * Предлагай варианты исправления
     * Документируй найденные решения

8. ОПТИМИЗАЦИЯ:
   - Минимизируй количество зависимостей
   - Используй стабильные версии пакетов
   - Избегай экспериментальных функций
   - Следуй принципу минимальной достаточности
   - Оптимизируй размер виртуального окружения

9. БЕЗОПАСНОСТЬ:
   - Проверяй уязвимости в зависимостях
   - Используй только проверенные пакеты
   - Следи за обновлениями безопасности
   - Документируй известные проблемы
   - Проверяй безопасность API ключей

10. ПОДДЕРЖКА:
    - Обеспечь возможность легкого обновления
    - Документируй процесс обновления
    - Предусмотри откат изменений
    - Поддерживай актуальность документации
    - Следи за обновлениями критических пакетов

11. МИГРАЦИИ:
    - Следи за версиями миграций Alembic
    - Проверяй совместимость миграций с версиями SQLAlchemy
    - Документируй изменения в структуре базы данных
    - Обеспечь возможность отката миграций

12. ТЕСТИРОВАНИЕ:
    - Проверяй работу с разными версиями Python
    - Тестируй на разных операционных системах
    - Проверяй совместимость с разными версиями баз данных
    - Документируй результаты тестирования 