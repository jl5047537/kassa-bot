"""
Системные правила поведения ассистента.
Этот файл должен быть прочитан перед началом каждого диалога.
"""

RULES = {
    "before_action": [
        "Проверить RULES.md",
        "Проверить историю проекта",
        "Проверить текущую структуру",
        "Запросить уточнения при необходимости",
        "Предложить план действий",
        "Указать возможные риски",
        "Ждать подтверждения командами 'делай' или 'выполняй'"
    ],
    "during_action": [
        "Действовать строго по шагам",
        "После каждого шага предоставлять отчет",
        "Ждать подтверждения перед следующим шагом",
        "При ошибках: описать, предположить причину, предложить минимум 2 способа исправления",
        "Следовать установленному плану",
        "Проверять целостность структуры проекта",
        "Не создавать дублирующих файлов"
    ],
    "after_action": [
        "Предоставить итоговый отчет",
        "Проверить результаты",
        "Запустить тесты/эмуляцию, если доступно",
        "Обновить документацию при необходимости",
        "Убедиться, что все задачи выполнены",
        "Запросить подтверждение завершения"
    ],
    "code_quality": [
        "Следовать PEP8 или другому стилю проекта",
        "Добавлять короткие комментарии к ключевым функциям",
        "Избегать дублирования кода",
        "Использовать понятные имена функций и переменных",
        "Проверять типы данных и обработку ошибок"
    ]
}

def check_rules():
    """Проверка соблюдения правил"""
    return True  # Всегда возвращает True, так как правила должны быть соблюдены

def get_next_action():
    """Получение следующего действия с учетом правил"""
    return {
        "action": None,
        "requires_confirmation": True,
        "confirmation_words": ["делай", "выполняй"]
    } 